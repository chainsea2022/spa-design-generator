<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SPAè¨­è¨ˆè‡ªå‹•åŒ–è¡¨å–®ç³»çµ±</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        h1 {
            color: #2d3748;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            color: #718096;
            text-align: center;
            font-size: 16px;
            margin-bottom: 30px;
        }
        
        .form-section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 12px;
            border-left: 4px solid #4a90e2;
        }
        
        .form-section h3 {
            color: #4a90e2;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: #4a5568;
            font-weight: 500;
        }
        
        .required {
            color: #e53e3e;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
            box-sizing: border-box;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #4a90e2;
        }
        
        .btn-group {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }
        
        .btn {
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            flex: 1;
            transition: transform 0.3s;
        }
        
        .auto-fill-btn {
            background: #48bb78;
            color: white;
        }
        
        .clear-btn {
            background: #f56565;
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin: 25px 0;
            transition: transform 0.3s;
        }
        
        .generate-btn:hover {
            transform: translateY(-2px);
        }
        
        .generate-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
            transform: none;
        }
        
        .output-section {
            margin-top: 30px;
            padding: 25px;
            background: #f7fafc;
            border-radius: 15px;
            border: 2px solid #e2e8f0;
            display: none;
        }
        
        .output-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .copy-all-btn {
            background: #e53e3e;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            flex: 2;
        }
        
        .gemini-btn {
            background: #4285f4;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            flex: 1;
        }
        
        .all-prompts-display {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 13px;
            line-height: 1.5;
            white-space: pre-wrap;
            margin: 15px 0;
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid #4a90e2;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            max-width: 350px;
        }
        
        .notification.success {
            background: #48bb78;
        }
        
        .notification.error {
            background: #f56565;
        }
        
        .design-type-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .design-type-card {
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .design-type-card:hover {
            border-color: #4a90e2;
            background: #f8fafc;
        }
        
        .design-type-card.selected {
            border-color: #4a90e2;
            background: #ebf8ff;
        }
        
        .design-type-card h4 {
            margin: 0 0 8px 0;
            color: #2d3748;
        }
        
        .design-type-card p {
            margin: 0;
            font-size: 12px;
            color: #718096;
        }
        
        .count-selector {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .count-btn {
            background: #4a90e2;
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
        }
        
        .count-display {
            font-size: 24px;
            font-weight: bold;
            color: #2d3748;
            min-width: 60px;
            text-align: center;
        }
        
        .expandable-sections {
            margin-top: 30px;
        }
        
        .expandable-section {
            margin-bottom: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
            background: white;
        }
        
        .expand-btn {
            width: 100%;
            padding: 20px 25px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: none;
            cursor: pointer;
            font-size: 18px;
            font-weight: 600;
            color: #2d3748;
            text-align: left;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .expand-btn:hover {
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%);
        }
        
        .expandable-content {
            padding: 0 25px 25px 25px;
            background: white;
        }
        
        .price-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .gemini-quick-access {
            margin-top: 40px;
            text-align: center;
        }
        
        .gemini-main-btn {
            background: linear-gradient(135deg, #4285f4 0%, #34a853 100%);
            color: white;
            border: none;
            padding: 25px 40px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(66, 133, 244, 0.3);
        }
        
        .gemini-main-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(66, 133, 244, 0.4);
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
            }
            .btn-group, .output-buttons {
                flex-direction: column;
            }
            .price-group {
                grid-template-columns: 1fr;
            }
            .design-type-selector {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ SPAè¨­è¨ˆè‡ªå‹•åŒ–è¡¨å–®ç³»çµ±</h1>
        <div class="subtitle">å°ˆæ¥­ AI æŒ‡ä»¤ç”Ÿæˆå™¨ | ä¸€éµç”¢å‡ºè¨­è¨ˆèƒŒæ™¯</div>
        
        <div class="btn-group">
            <button class="btn auto-fill-btn" onclick="autoFillDemo()">
                âš¡ å¿«é€Ÿå¡«å…¥ç¯„ä¾‹è³‡æ–™
            </button>
            <button class="btn clear-btn" onclick="clearForm()">
                ğŸ—‘ï¸ æ¸…ç©ºè¡¨å–®
            </button>
        </div>
        
        <form id="spaForm">
            <!-- èª²ç¨‹å…§å®¹è³‡è¨Š -->
            <div class="form-section">
                <h3>ğŸ“ èª²ç¨‹å…§å®¹è³‡è¨Š</h3>
                <div class="form-group">
                    <label for="courseTitle">æ¨™é¡Œ <span class="required">*</span></label>
                    <input type="text" id="courseTitle" placeholder="ä¾‹ï¼šé€†æ™‚é‡å…‰æ¡é›™äº«SPAãƒ»é€†é½¡ç«‹é«”å°å…¥Ã—å«©äº®æ·¨é€" required>
                </div>
                <div class="form-group">
                    <label for="courseContent">èª²ç¨‹å…§å®¹</label>
                    <textarea id="courseContent" rows="4" placeholder="ä¾‹ï¼š&#10;ã€Aèª²ç¨‹ï¼šç«‹é«”è¼ªå»“ä¿æ¿•äº®é¡ã€‘&#10;âœ“ é›™å±¤æ·±å±¤æº«å’Œå¸é™„æ¸…æ½”&#10;âœ“ æ°´æ½¤è¶…éŸ³æ³¢å°å…¥ä¿é¤Š"></textarea>
                </div>
            </div>

            <!-- è¨­è¨ˆé¢¨æ ¼åå¥½ -->
            <div class="form-section">
                <h3>ğŸ¨ è¨­è¨ˆé¢¨æ ¼åå¥½</h3>
                <div class="form-group">
                    <label for="designStyle">æ•´é«”é¢¨æ ¼</label>
                    <input type="text" id="designStyle" placeholder="ä¾‹ï¼šæ—¥å¼ç°¡ç´„ã€ç¾ä»£å¥¢è¯ã€å°ˆæ¥­é†«ç¾ç­‰">
                </div>
                <div class="form-group">
                    <label for="colorTheme">è‰²èª¿ä¸»é¡Œ</label>
                    <input type="text" id="colorTheme" placeholder="ä¾‹ï¼šçç ç°é…æŸ”å’Œè—è‰²ã€æº«æš–é‡‘è‰²ç­‰">
                </div>
            </div>

            <!-- è¨­è¨ˆé¡å‹é¸æ“‡ -->
            <div class="form-section">
                <h3>ğŸ–¼ï¸ è¨­è¨ˆé¡å‹é¸æ“‡</h3>
                <div class="design-type-selector">
                    <div class="design-type-card selected" data-type="mixed" onclick="selectDesignType('mixed')">
                        <h4>ğŸ¨ æ··åˆè¨­è¨ˆ</h4>
                        <p>Banner + æµç¨‹åœ– + å…¶ä»–è¨­è¨ˆå…ƒç´ </p>
                    </div>
                    <div class="design-type-card" data-type="custom" onclick="selectDesignType('custom')">
                        <h4>âš™ï¸ è‡ªè¨‚è¨­è¨ˆ</h4>
                        <p>å®Œå…¨å®¢è£½åŒ–è¨­è¨ˆéœ€æ±‚</p>
                    </div>
                </div>
            </div>

            <!-- è¨­è¨ˆè¦æ ¼è¨­å®š -->
            <div class="form-section">
                <h3>ğŸ“ è¨­è¨ˆè¦æ ¼è¨­å®š</h3>
                <div class="form-group">
                    <label for="designSize">è¨­è¨ˆå°ºå¯¸</label>
                    <select id="designSize">
                        <option value="800x800">800x800 (æ­£æ–¹å½¢)</option>
                        <option value="1080x1080">1080x1080 (æ­£æ–¹å½¢)</option>
                        <option value="800x419">800x419 (æ©«å¼)</option>
                        <option value="1200x628">1200x628 (æ©«å¼)</option>
                        <option value="1080x1920">1080x1920 (é™æ™‚å‹•æ…‹)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>è¨­è¨ˆå¼µæ•¸</label>
                    <div class="count-selector">
                        <button type="button" class="count-btn" onclick="changeCount(-1)">âˆ’</button>
                        <div class="count-display" id="designCountDisplay">8</div>
                        <button type="button" class="count-btn" onclick="changeCount(1)">+</button>
                    </div>
                    <input type="hidden" id="designCount" value="8">
                </div>
            </div>

            <button type="button" class="generate-btn" onclick="generatePrompts()" id="generateBtn">
                ğŸš€ ç”Ÿæˆå°ˆæ¥­ AI è¨­è¨ˆæŒ‡ä»¤
            </button>
        </form>

        <div id="outputSection" class="output-section">
            <h3>ğŸ“‹ AI è¨­è¨ˆæŒ‡ä»¤å·²ç”Ÿæˆ</h3>
            
            <div class="output-buttons">
                <button class="copy-all-btn" onclick="copyAllPrompts()">
                    ğŸ“‹ ä¸€æ¬¡è¤‡è£½å…¨éƒ¨æŒ‡ä»¤
                </button>
                <button class="gemini-btn" onclick="openGemini()">
                    ğŸš€ å‰å¾€ Gemini AI
                </button>
            </div>
            
            <div class="all-prompts-display" id="allPromptsPreview"></div>
        </div>
        
        <!-- å¯å±•é–‹çš„åŠŸèƒ½å€åŸŸ -->
        <div class="expandable-sections">
            <!-- ä½¿ç”¨èªªæ˜ -->
            <div class="expandable-section">
                <button class="expand-btn" onclick="toggleSection('usage-guide')">
                    ğŸ“– ä½¿ç”¨èªªæ˜ <span id="usage-arrow">â–¼</span>
                </button>
                <div id="usage-guide" class="expandable-content" style="display: none;">
                    <h4>ğŸ“ åŸºæœ¬ä½¿ç”¨æµç¨‹</h4>
                    <p>1. å¡«å¯«åº—å®¶åŸºæœ¬è³‡è¨Šå’Œèª²ç¨‹å…§å®¹</p>
                    <p>2. é¸æ“‡è¨­è¨ˆé¡å‹ï¼ˆBannerã€æµç¨‹åœ–ã€æ··åˆæˆ–è‡ªè¨‚ï¼‰</p>
                    <p>3. è¨­å®šè¨­è¨ˆé¢¨æ ¼å’Œè‰²èª¿åå¥½</p>
                    <p>4. é¸æ“‡é©åˆçš„å°ºå¯¸å’Œå¼µæ•¸</p>
                    <p>5. é»æ“Šç”ŸæˆæŒ‡ä»¤ï¼Œè¤‡è£½åˆ°Gemini AIä½¿ç”¨</p>
                    
                    <h4>ğŸ¯ ç²å¾—æœ€ä½³æ•ˆæœçš„æŠ€å·§</h4>
                    <p>â€¢ <strong>å…·é«”æè¿°é¢¨æ ¼</strong>ï¼šä½¿ç”¨ã€Œæº«é¦¨è¦ªå’Œã€æ¯”ã€Œå¥½çœ‹ã€æ›´æœ‰æ•ˆ</p>
                    <p>â€¢ <strong>æ˜ç¢ºè‰²èª¿éœ€æ±‚</strong>ï¼šæŒ‡å®šå…·é«”è‰²å½©å¦‚ã€Œçç ç™½é…æŸ”å’Œè—ã€</p>
                    <p>â€¢ <strong>è€ƒæ…®ä½¿ç”¨å ´æ™¯</strong>ï¼šä¸åŒå¹³å°å»ºè­°ä½¿ç”¨ä¸åŒå°ºå¯¸</p>
                </div>
            </div>
        </div>
        
        <!-- é é¢åº•éƒ¨Geminiå¿«é€ŸæŒ‰éˆ• -->
        <div class="gemini-quick-access">
            <button class="gemini-main-btn" onclick="openGemini()">
                <span style="font-size: 28px;">ğŸ¤–</span>
                <div style="flex: 1; text-align: left; margin-left: 20px;">
                    <div style="font-size: 18px; font-weight: bold;">å‰å¾€ Gemini AI</div>
                    <div style="font-size: 14px; opacity: 0.9;">é–‹å§‹ç”Ÿæˆæ‚¨çš„å°ˆæ¥­SPAåœ–ç‰‡</div>
                </div>
                <span style="font-size: 24px; margin-left: 20px;">â†’</span>
            </button>
        </div>
    </div>

    <script>
        let allPromptsText = "";
        let selectedDesignType = "mixed";
        
        // è‡ªå‹•å¡«å…¥ç¯„ä¾‹è³‡æ–™
        function autoFillDemo() {
            document.getElementById('courseTitle').value = 'é€†æ™‚é‡å…‰æ¡é›™äº«SPAãƒ»é€†é½¡ç«‹é«”å°å…¥Ã—å«©äº®æ·¨é€';
            document.getElementById('courseContent').value = 'ã€Aèª²ç¨‹ï¼šç«‹é«”è¼ªå»“ä¿æ¿•äº®é¡ã€‘\nâœ“ é›™å±¤æ·±å±¤æº«å’Œå¸é™„æ¸…æ½”\nâœ“ æ°´æ½¤è¶…éŸ³æ³¢å°å…¥ä¿é¤Š\nâœ“ éŸ“ç³»LEDç…¥äº®ä¿é¤Šå„€\n\nã€Bèª²ç¨‹ï¼šç…¥é‡‡ç·Šè†šæ·¨é€èª¿ç†ã€‘\nâœ“ éŸ³æ³¢å¾®éœ§æ·¨è†šèª¿ç†\nâœ“ è¦ªè†šæ‰‹æŠ€ç²‰åˆºè™•ç†';
            document.getElementById('designStyle').value = 'æ—¥å¼ç°¡ç´„å°ˆæ¥­é¢¨æ ¼';
            document.getElementById('colorTheme').value = 'çç ç°é…æŸ”å’Œè—è‰²';
            
            showNotification('âœ… ç¯„ä¾‹è³‡æ–™å·²æˆåŠŸå¡«å…¥ï¼', 'success');
        }

        // æ¸…ç©ºè¡¨å–®
        function clearForm() {
            try {
                console.log('æ¸…ç©ºè¡¨å–®åŠŸèƒ½è¢«èª¿ç”¨');
                
                // ç›´æ¥æ¸…ç©ºï¼Œä¸éœ€è¦ç¢ºèªå°è©±æ¡†
                const courseTitle = document.getElementById('courseTitle');
                const courseContent = document.getElementById('courseContent');
                const designStyle = document.getElementById('designStyle');
                const colorTheme = document.getElementById('colorTheme');
                const designSize = document.getElementById('designSize');
                const designCountDisplay = document.getElementById('designCountDisplay');
                const designCount = document.getElementById('designCount');
                const outputSection = document.getElementById('outputSection');
                
                // æª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ä¸¦æ¸…ç©º
                if (courseTitle) courseTitle.value = '';
                if (courseContent) courseContent.value = '';
                if (designStyle) designStyle.value = '';
                if (colorTheme) colorTheme.value = '';
                if (designSize) designSize.selectedIndex = 0;
                if (designCountDisplay) designCountDisplay.textContent = '8';
                if (designCount) designCount.value = '8';
                if (outputSection) outputSection.style.display = 'none';
                
                // é‡ç½®è¨­è¨ˆé¡å‹é¸æ“‡
                document.querySelectorAll('.design-type-card').forEach(card => {
                    card.classList.remove('selected');
                });
                const mixedCard = document.querySelector('[data-type="mixed"]');
                if (mixedCard) {
                    mixedCard.classList.add('selected');
                }
                selectedDesignType = "mixed";
                
                showNotification('ğŸ—‘ï¸ è¡¨å–®å·²æ¸…ç©º', 'success');
                console.log('è¡¨å–®æ¸…ç©ºå®Œæˆ');
            } catch (error) {
                console.error('æ¸…ç©ºè¡¨å–®æ™‚å‡ºéŒ¯ï¼š', error);
                showNotification('âŒ æ¸…ç©ºè¡¨å–®å¤±æ•—', 'error');
            }
        }

        // é¸æ“‡è¨­è¨ˆé¡å‹
        function selectDesignType(type) {
            selectedDesignType = type;
            document.querySelectorAll('.design-type-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`[data-type="${type}"]`).classList.add('selected');
        }

        // æ”¹è®Šè¨­è¨ˆå¼µæ•¸
        function changeCount(delta) {
            const currentCount = parseInt(document.getElementById('designCount').value);
            const newCount = Math.max(1, Math.min(50, currentCount + delta));
            document.getElementById('designCount').value = newCount;
            document.getElementById('designCountDisplay').textContent = newCount;
        }

        // ç²å–å°ºå¯¸è³‡è¨Š
        function getSizeInfo(sizeValue) {
            const sizeMap = {
                '800x800': 'æ­£æ–¹å½¢æ¯”ä¾‹1:1ï¼Œé©åˆç¤¾ç¾¤åª’é«”',
                '1080x1080': 'æ­£æ–¹å½¢æ¯”ä¾‹1:1',
                '800x419': 'æ©«å¼æ¯”ä¾‹ç´„1.9:1ï¼Œé©åˆç¶²é Banner',
                '1200x628': 'æ©«å¼æ¯”ä¾‹ç´„1.9:1',
                '1080x1920': 'é™æ™‚å‹•æ…‹æ¯”ä¾‹9:16'
            };
            return sizeMap[sizeValue] || 'è‡ªå®šç¾©å°ºå¯¸';
        }

        // å°ˆæ¥­æŒ‡ä»¤ç¯„æœ¬ç³»çµ±ï¼ˆåŸºæ–¼å„ªåŒ–ç‰ˆGeminiå…¬å¼ï¼‰
        function getPromptTemplates() {
            const bannerTemplates = [
                {
                    scene: "å„ªé›…äºæ´²å¥³æ€§åœ¨é«˜ç´šSPAç’°å¢ƒä¸­äº«å—å°ˆæ¥­é¢éƒ¨è­·ç†",
                    details: "å®¢äººå´è‡‰ç‰¹å¯«ï¼Œé–‰çœ¼å®‰è©³è¡¨æƒ…ï¼Œè‚Œè†šå‘ˆç¾å¥åº·é€äº®å…‰æ¾¤ã€‚ç¾å®¹å¸«å°ˆæ³¨æ“ä½œï¼Œå±•ç¾ç†Ÿç·´æ‰‹æ³•ã€‚",
                    composition: "3/4å´é¢æ§‹åœ–ï¼Œæ·ºæ™¯æ·±æ•ˆæœï¼ŒèƒŒæ™¯æŸ”å’Œè™›åŒ–ï¼Œçªå‡ºä¸»é«”äººç‰©å¯§éœç¾æ„Ÿã€‚",
                    atmosphere: "æº«æš–å°ˆæ¥­SPAæ°›åœï¼Œä¹¾æ·¨ç°¡æ½”ç©ºé–“è¨­è¨ˆï¼ŒæŸ”å’Œè‡ªç„¶å…‰ç·šï¼Œé ç•™å³å´ç©ºé–“ä¾›æ–‡å­—ä½¿ç”¨ã€‚"
                },
                {
                    scene: "å°ˆæ¥­ç¾å®¹å¸«ç‚ºå®¢äººé€²è¡Œç²¾ç·»é¢éƒ¨è­·ç†ç™‚ç¨‹",
                    details: "ç¾å®¹å¸«å°ˆæ³¨å´é¢å§¿æ…‹ï¼Œå±•ç¾ç†Ÿç·´æ‰‹æ³•ã€‚å®¢äººæ”¾é¬†è¡¨æƒ…ï¼Œäº«å—è­·ç†å¯§éœç‹€æ…‹ã€‚å°ˆæ¥­ç”¢å“å·¥å…·æ’åˆ—æ•´é½Šã€‚",
                    composition: "ä¿¯ç°45åº¦è§’ï¼Œå°ç¨±å¼æ§‹åœ–ï¼Œç‡Ÿé€ å°ˆæ¥­è€Œæº«é¦¨æ²»ç™‚æ°›åœã€‚",
                    atmosphere: "ç¾ä»£SPAè¨ºç™‚å®¤ï¼Œæ˜äº®æŸ”å’ŒLEDç…§æ˜ï¼Œç´”æ·¨ç™½è‰²åŸºèª¿ï¼Œå·¦å´é ç•™æ–‡å­—ç©ºé–“ã€‚"
                },
                {
                    scene: "å®¢äººåœ¨é‹ªæœ‰æ½”ç™½æ¯›å·¾çš„æŒ‰æ‘©åºŠä¸Šäº«å—æ·±å±¤é ¸éƒ¨è‚©éƒ¨æŒ‡å£“æŒ‰æ‘©",
                    details: "å®¢äººèˆ’é©è¶´è‘—ï¼Œåªéœ²å‡ºå¾Œè…¦æ“ã€é ¸éƒ¨èˆ‡ä¸ŠèƒŒï¼Œçš®è†šå¡—æ»¿æŒ‰æ‘©æ²¹å‘ˆç¾é€äº®å…‰æ¾¤ã€‚æŒ‰æ‘©å¸«ä½¿ç”¨é›™æ‰‹æŒ‡é—œç¯€ï¼Œå°ç¨±æ·±åº¦æŒ‰å£“å®¢äººå¾Œé ¸å…©å´è‚Œè‚‰ã€‚",
                    composition: "æ¥µè¿‘è·é›¢ç‰¹å¯«é¡é ­ï¼Œå¾å®¢äººæ­£å¾Œæ–¹ç•¥å¾®ä¿¯ç°æ‹æ”ï¼Œç„¦é»åœ¨æŒ‰æ‘©å¸«é›™æ‰‹æŒ‡é—œç¯€æ–½åŠ›é»ï¼Œä»¥åŠé ¸éƒ¨è‚Œè‚‰è¢«æ·±åº¦æŒ‰å£“çš„äº’å‹•ç´°ç¯€ã€‚",
                    atmosphere: "æ˜äº®ä¹¾æ·¨é›†ä¸­æŸ”å’Œå…‰ç·šï¼Œç´”æ·¨ç™½è‰²æ¯›å·¾èƒŒæ™¯ï¼Œæ’é™¤å…¶ä»–è¦–è¦ºå¹²æ“¾ã€‚æ¥µåº¦å°ˆæ¥­ã€å°ˆæ³¨ã€å……æ»¿åŠ›é“èˆ‡ç™‚ç™’æ„Ÿæ°›åœã€‚å¤§é¢ç©ç™½è‰²é…å¥åº·è†šè‰²ã€‚"
                },
                {
                    scene: "SPAç’°å¢ƒä¸­çš„æ”¾é¬†è­·ç†å ´æ™¯ï¼Œå±•ç¾è¨­è¨ˆæ„ŸèƒŒæ™¯",
                    details: "å„ªé›…å®¢äººäº«å—è­·ç†ï¼Œå°ˆæ¥­ç’°å¢ƒä½ˆç½®ï¼Œé«˜ç´šè¨­å‚™å™¨æï¼Œç²¾ç·»ç”¢å“é™³åˆ—ã€‚",
                    composition: "å»£è§’è¦–è§’å±•ç¾æ•´é«”ç©ºé–“ï¼Œå¹³è¡¡æ§‹åœ–ï¼Œè¦–è¦ºå±¤æ¬¡è±å¯Œã€‚",
                    atmosphere: "é«˜ç«¯SPAå“ç‰Œè³ªæ„Ÿï¼Œç¾ä»£ç°¡ç´„è¨­è¨ˆé¢¨æ ¼ï¼Œå……è¶³ç•™ç™½ç©ºé–“ï¼Œé©åˆæ”¾ç½®æ–‡å­—å…§å®¹ã€‚"
                }
            ];

            const processTemplates = [
                {
                    scene: "SPAç™‚ç¨‹æµç¨‹å°ˆæ¥­å±•ç¤ºï¼Œå¾è«®è©¢åˆ°è­·ç†å®Œæˆçš„å®Œæ•´éç¨‹",
                    details: "å¤šå€‹ç™‚ç¨‹æ­¥é©Ÿçµ„åˆç•«é¢ï¼Œæ¯å€‹æ­¥é©Ÿæ¸…æ™°è¦–è¦ºé‡é»ï¼Œå°ˆæ¥­å™¨æå’Œæ‰‹æ³•ç‰¹å¯«ï¼Œå±•ç¾å®Œæ•´SPAæœå‹™æµç¨‹ã€‚",
                    composition: "åˆ†å‰²å¼æ§‹åœ–è¨­è¨ˆï¼Œæµæš¢è¦–è¦ºå¼•å°ç·šï¼Œå‰µé€ æ­¥é©Ÿæ¸…æ™°é–±è®€æµç¨‹ï¼Œè¨­è¨ˆæ„Ÿå¼·çƒˆç‰ˆé¢é…ç½®ã€‚",
                    atmosphere: "çµ±ä¸€è¨­è¨ˆé¢¨æ ¼ï¼Œç¾ä»£ç°¡ç´„è¦–è¦ºèªè¨€ï¼Œå……è¶³ç•™ç™½ç©ºé–“ä¾›æµç¨‹æ–‡å­—ä½¿ç”¨ï¼Œé«˜ç´šSPAå“ç‰Œè³ªæ„Ÿã€‚"
                },
                {
                    scene: "ç¾å®¹è¨­å‚™æ“ä½œæµç¨‹å°ˆæ¥­æ”å½±è¨˜éŒ„",
                    details: "è¶…éŸ³æ³¢è¨­å‚™ã€LEDå…‰ç™‚å„€ã€å°ˆæ¥­è­·è†šç”¢å“ä½¿ç”¨éç¨‹ç‰¹å¯«ï¼Œç¾å®¹å¸«å°ˆæ¥­æ“ä½œæ‰‹æ³•ç´°ç¯€å±•ç¤ºã€‚",
                    composition: "ç¶²æ ¼å¼æ’ç‰ˆï¼Œæ¯å€‹æ­¥é©Ÿç¨ç«‹è€Œé€£è²«ï¼Œå½¢æˆå®Œæ•´è¦–è¦ºæ•…äº‹ï¼Œå¼·çƒˆè¨­è¨ˆæ„Ÿå’Œå°ˆæ¥­åº¦ã€‚",
                    atmosphere: "é†«ç¾ç´šå°ˆæ¥­æ„Ÿï¼Œä¹¾æ·¨æ˜äº®æ‹æ”ç’°å¢ƒï¼Œé ç•™å……è¶³ç©ºé–“ä¾›æ­¥é©Ÿèªªæ˜æ–‡å­—ï¼Œé«˜ç«¯å°ˆæ¥­å“ç‰Œå½¢è±¡ã€‚"
                },
                {
                    scene: "SPAæœå‹™å®Œæ•´é«”é©—æµç¨‹å±•ç¤º",
                    details: "å¾æ¥å¾…è«®è©¢ã€ç’°å¢ƒä»‹ç´¹ã€è­·ç†æº–å‚™ã€ç™‚ç¨‹é€²è¡Œåˆ°å®Œæˆçš„å…¨éç¨‹è¨˜éŒ„ã€‚",
                    composition: "æ™‚é–“è»¸å¼æ’åˆ—ï¼Œæ¯å€‹éšæ®µé‡é»çªå‡ºï¼Œæ•´é«”æµç¨‹æ¸…æ™°æ˜“æ‡‚ã€‚",
                    atmosphere: "å°ˆæ¥­æœå‹™å“è³ªå±•ç¾ï¼Œæº«é¦¨èˆ’é©ç’°å¢ƒï¼Œå……åˆ†å±•ç¤ºæœå‹™ç´°ç¯€ï¼Œé ç•™èªªæ˜æ–‡å­—ç©ºé–“ã€‚"
                }
            ];

            return { bannerTemplates, processTemplates };
        }

        // ç”Ÿæˆå°ˆæ¥­æŒ‡ä»¤
        function generatePrompts() {
            const generateBtn = document.getElementById('generateBtn');
            const originalText = generateBtn.textContent;
            
            // é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹
            generateBtn.textContent = 'ğŸ”„ æ­£åœ¨ç”ŸæˆæŒ‡ä»¤...';
            generateBtn.disabled = true;
            
            const courseTitle = document.getElementById('courseTitle').value;
            const designStyle = document.getElementById('designStyle').value || 'æ—¥å¼ç°¡ç´„å°ˆæ¥­é¢¨æ ¼';
            const colorTheme = document.getElementById('colorTheme').value || 'çç ç°é…æŸ”å’Œè—è‰²';
            const designSize = document.getElementById('designSize').value;
            const designCount = parseInt(document.getElementById('designCount').value) || 8;

            if (!courseTitle) {
                showNotification('âŒ è«‹å¡«å¯«å¿…å¡«æ¬„ä½ï¼šæ¨™é¡Œ', 'error');
                generateBtn.textContent = originalText;
                generateBtn.disabled = false;
                return;
            }

            setTimeout(() => {
                const sizeInfo = getSizeInfo(designSize);
                const { bannerTemplates, processTemplates } = getPromptTemplates();
                const prompts = [];

                // æ ¹æ“šæ–°çš„Geminiå…¬å¼æ ¼å¼ç”ŸæˆæŒ‡ä»¤
                const scenePrompts = [];
                
                // æ·»åŠ ä»»å‹™é–‹é ­
                const taskHeader = `ä½ ç¾åœ¨çš„ä»»å‹™æ˜¯ã€ç”Ÿæˆ${designCount}å¼µåœ–ç‰‡ã€‘ï¼Œå¿…é ˆå®Œæ•´ç”¢å‡ºï¼Œä¸å¾—åœé “ã€ä¸å¾—çœç•¥ã€ä¸å¾—ä»¥æ–‡å­—æˆ–é€£çµä»£æ›¿ã€‚\n\n`;
                
                for (let i = 0; i < designCount; i++) {
                    let template;
                    let promptType;
                    
                    if (selectedDesignType === 'banner') {
                        template = bannerTemplates[i % bannerTemplates.length];
                        promptType = 'Bannerè¨­è¨ˆ';
                    } else if (selectedDesignType === 'process') {
                        template = processTemplates[i % processTemplates.length];
                        promptType = 'æµç¨‹åœ–è¨­è¨ˆ';
                    } else if (selectedDesignType === 'mixed') {
                        if (i < Math.floor(designCount / 2)) {
                            template = bannerTemplates[i % bannerTemplates.length];
                            promptType = 'Bannerè¨­è¨ˆ';
                        } else {
                            template = processTemplates[i % processTemplates.length];
                            promptType = 'æµç¨‹åœ–è¨­è¨ˆ';
                        }
                    } else {
                        template = bannerTemplates[i % bannerTemplates.length];
                        promptType = 'å®¢è£½åŒ–è¨­è¨ˆ';
                    }

                    const sceneNumber = i + 1;
                    const scenePrompt = `ã€å ´æ™¯${sceneNumber}ã€‘
æ ¸å¿ƒå ´æ™¯ï¼š${template.scene}
ä¸»é«”ç´°ç¯€ï¼š${template.details}
æ§‹åœ–èˆ‡è¦–è§’ï¼š${template.composition}
ç’°å¢ƒèˆ‡æ°›åœï¼š${template.atmosphere}
è‰²èª¿é¢¨æ ¼ï¼š${colorTheme}ç‚ºä¸»èª¿ï¼Œ${designStyle}é¢¨æ ¼
å°ºå¯¸è¦æ±‚ï¼š${sizeInfo}
æ‹æ”å“è³ªï¼šå°ˆæ¥­æ”å½±ç´šåˆ¥ï¼Œé«˜è§£æåº¦ï¼Œè‡ªç„¶å…‰æ„Ÿ
é‡è¦æé†’ï¼šé ç•™å……è¶³æ–‡å­—æ”¾ç½®ç©ºé–“ï¼Œé¿å…åœ¨é ç•™å€åŸŸæ”¾ç½®è¦–è¦ºå…ƒç´ `;
                    
                    scenePrompts.push(scenePrompt);
                }
                
                // æ·»åŠ ä»»å‹™çµå°¾
                const taskFooter = `\n\nè«‹ä¸€æ¬¡è¼¸å‡ºä»¥ä¸Šå…¨éƒ¨åœ–ç‰‡ï¼Œä¸è¦åœé “ï¼Œä¸è¦çœç•¥ã€‚`;
                
                // çµ„åˆå®Œæ•´æŒ‡ä»¤
                allPromptsText = taskHeader + scenePrompts.join('\n\n') + taskFooter;
                document.getElementById('allPromptsPreview').textContent = allPromptsText;
                document.getElementById('outputSection').style.display = 'block';
                document.getElementById('outputSection').scrollIntoView({ behavior: 'smooth' });
                
                // æ¢å¾©æŒ‰éˆ•ç‹€æ…‹
                generateBtn.textContent = originalText;
                generateBtn.disabled = false;
                
                showNotification(`âœ… æˆåŠŸç”Ÿæˆ ${designCount} çµ„ AI è¨­è¨ˆæŒ‡ä»¤ï¼`, 'success');
            }, 1000);
        }

        // è¤‡è£½æ‰€æœ‰æŒ‡ä»¤
        function copyAllPrompts() {
            if (!allPromptsText) {
                showNotification('âŒ è«‹å…ˆç”ŸæˆæŒ‡ä»¤ï¼', 'error');
                return;
            }
            
            navigator.clipboard.writeText(allPromptsText).then(() => {
                showNotification('âœ… å…¨éƒ¨æŒ‡ä»¤å·²è¤‡è£½ï¼å¯ä»¥åˆ°Geminiè²¼ä¸Šä½¿ç”¨', 'success');
            }).catch(() => {
                showNotification('âŒ è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½', 'error');
            });
        }

        // é–‹å•ŸGemini
        function openGemini() {
            window.open('https://gemini.google.com', '_blank');
            showNotification('ğŸš€ å·²é–‹å•Ÿ Gemini AIï¼è«‹è²¼ä¸ŠæŒ‡ä»¤é–‹å§‹ç”Ÿæˆåœ–ç‰‡ï¼', 'success');
        }

        // é¡¯ç¤ºé€šçŸ¥
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // åˆ‡æ›å±•é–‹å€åŸŸ
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            const arrow = document.getElementById(sectionId.replace('-guide', '-arrow'));
            const isVisible = content.style.display !== 'none';
            
            if (isVisible) {
                content.style.display = 'none';
                arrow.textContent = 'â–¼';
            } else {
                content.style.display = 'block';
                arrow.textContent = 'â–²';
                content.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            console.log('SPAè¨­è¨ˆç”Ÿæˆå™¨å·²è¼‰å…¥å®Œæˆ');
            
            // æª¢æŸ¥é‡è¦å…ƒç´ æ˜¯å¦å­˜åœ¨
            const importantElements = [
                'courseTitle',
                'courseContent',
                'designStyle', 
                'colorTheme',
                'designSize',
                'designCount',
                'designCountDisplay'
            ];
            
            importantElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    console.log(`âœ… å…ƒç´  ${id} æ‰¾åˆ°`);
                } else {
                    console.error(`âŒ å…ƒç´  ${id} æœªæ‰¾åˆ°`);
                }
            });
            
            // ç¢ºä¿æŒ‰éˆ•äº‹ä»¶æ­£å¸¸ç¶å®š
            const clearBtn = document.querySelector('.clear-btn');
            if (clearBtn) {
                console.log('âœ… æ¸…ç©ºæŒ‰éˆ•æ‰¾åˆ°');
                // ç§»é™¤å¯èƒ½çš„é‡è¤‡äº‹ä»¶ç›£è½å™¨
                clearBtn.removeEventListener('click', clearForm);
                // é‡æ–°ç¶å®šäº‹ä»¶
                clearBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('æ¸…ç©ºæŒ‰éˆ•è¢«é»æ“Š');
                    clearForm();
                });
            } else {
                console.error('âŒ æ¸…ç©ºæŒ‰éˆ•æœªæ‰¾åˆ°');
            }
            
            // æ¸¬è©¦æ‰€æœ‰æŒ‰éˆ•åŠŸèƒ½
            const buttons = document.querySelectorAll('button');
            buttons.forEach((button, index) => {
                console.log(`æŒ‰éˆ• ${index + 1}: ${button.textContent.trim()}`);
            });
        });
    </script>
</body>
</html>
